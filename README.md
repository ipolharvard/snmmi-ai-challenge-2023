# Overall Survival Prediction Experiments with Pycox

This repository contains the code used for our submission to the *SNMMI AI Challenge 2023*,
where we secured 2nd place. The challenge focuses on using machine learning for overall survival
prediction. Our approach leverages the [Pycox](https://github.com/havakv/pycox) library to build and evaluate survival models.

For more details about the competition, visit the official [SNMMI AI Challenge page](https://sites.snmmi.org/Therapy/SNMMI-THERAPY/AI_Challenge.aspx).

## Getting Started

### Prerequisites

- Conda: Ensure you have Anaconda or Miniconda installed.
- Python: Recommended version is Python 3.10.

### Repository Setup

Clone this repository with submodules to ensure you have all the dependencies:

```bash
git clone --recursive git@github.com:ipolharvard/snmmi-ai-challenge-2023.git
cd snmmi-ai-challenge-2023
```

### Environment Setup

Create and activate a Conda environment for the project:

```bash
conda create -n snmmi-challenge python=3.10 -y
conda activate snmmi-challenge
```

Install the package in development mode along with the necessary dependencies:

```bash
pip install -e .[jupyter,dev]
```

### Verify Setup

To ensure the CLI is installed correctly, run:

```bash
os run --help
```

This should display the available commands and options.

## Data Preparation

The dataset required for the experiments is not included in the repository. You need to place the
challenge datasets in the data directory as follows:

```
snmmi-ai-challenge-2023/
├── pyproject.toml
├── README.md
├── results/                <-- JSON results will be saved here
├── scripts/
├── ospkg/
│   └── data/               <-- Place your data files here
│       ├── SNMMI_CHALLENGE_TRAINING_V22OCT2023.xlsx
│       └── SNMMI_CHALLENGE_TESTING_V01112023.xlsx
```

## Notebooks

The repository includes Jupyter notebooks for exploratory data analysis and result visualization.
After setting up the environment, launch Jupyter:

```bash
jupyter notebook
```

Ensure that the required data is placed correctly in the data directory as the notebooks assume the following structure:

```
results/  <-- Results JSONs generated by experiments
data/     <-- Input datasets
```

## Experiment Example

An example configuration and script to run an experiment can be found in the test folder.
This provides a reference for setting up and executing your own experiments.
Or available models you can find at `ospkg/constants`.

## Acknowledgments

We thank the organizers of the SNMMI AI Challenge 2023 and the contributors of the Pycox library for
their excellent work.
